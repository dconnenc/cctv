:root {
  --white: #ffffff;
  --yellow: #ffff00;
  --red: #ff4911;
  --blue: #3300ff;
  --green: #2fff2f;
  --pink: #ff00f5;
  --teal: #7df9ff;
  --nav-h: 3.5rem;
  --tv-glow:
    0 0 4px rgba(255, 255, 255, 0.45), 0 0 10px rgba(255, 255, 255, 0.3),
    0.5px 0 1px rgba(255, 0, 0, 0.25), -0.5px 0 1px rgba(0, 255, 255, 0.25);
}

/* Shadcn theme tokens (HSL triplets) */
:root[data-theme='light'] {
  --background: 0 0% 100%;
  --foreground: 240 10% 3.9%;
  --card: 0 0% 100%;
  --card-foreground: 240 10% 3.9%;
  --popover: 0 0% 100%;
  --popover-foreground: 240 10% 3.9%;
  --primary: 259 100% 50%; /* approx var(--blue) */
  --primary-foreground: 0 0% 100%;
  --secondary: 240 4.8% 95.9%;
  --secondary-foreground: 240 5.9% 10%;
  --muted: 240 4.8% 95.9%;
  --muted-foreground: 240 3.8% 46.1%;
  --accent: 300 100% 50%; /* approx var(--pink) */
  --accent-foreground: 0 0% 100%;
  --destructive: 13 100% 53%; /* approx var(--red) */
  --destructive-foreground: 0 0% 100%;
  --border: 240 5.9% 90%;
  --input: 240 5.9% 90%;
  --ring: 52 100% 50%; /* approx var(--yellow) */
  --radius: 0.5rem;
  --shadow-1: 0 8px 16px hsl(var(--foreground) / 0.08);
}

:root[data-theme='dark'] {
  --background: 0 0% 5%;
  --foreground: 0 0% 98%;
  --card: 0 0% 7.5%;
  --card-foreground: 0 0% 98%;
  --popover: 0 0% 7.5%;
  --popover-foreground: 0 0% 98%;
  --primary: 248 100% 53%; /* var(--blue) vibe */
  --primary-foreground: 0 0% 100%;
  --secondary: 240 3.7% 15.9%;
  --secondary-foreground: 0 0% 98%;
  --muted: 240 3.7% 15.9%;
  --muted-foreground: 240 5% 64.9%;
  --accent: 305 100% 50%; /* var(--pink) vibe */
  --accent-foreground: 0 0% 100%;
  --destructive: 13 100% 53%;
  --destructive-foreground: 0 0% 100%;
  --border: 240 3.7% 22%;
  --input: 240 3.7% 22%;
  --ring: 52 100% 50%;
  --radius: 0.5rem;
  --shadow-1: 0 8px 16px hsl(var(--foreground) / 0.18);
}

.app {
  top: 0;
  left: 0;
  min-height: 100dvh; /* mobile-friendly viewport height */
  width: 100%;
  display: flex;
  flex-direction: column;
  position: relative;
  z-index: 3; /* sit above static background and vignette */
}

/* Vignette, static, and tear styles moved to src/static.css */

/* Reset default page margins to allow full-bleed layout */
html,
body {
  margin: 0;
  padding: 0;
}

/* Shadcn utility bindings if needed without Tailwind */
.bg-background {
  background-color: hsl(var(--background));
}
.text-foreground {
  color: hsl(var(--foreground));
}
.border-border {
  border-color: hsl(var(--border));
}
.ring-ring {
  outline-color: hsl(var(--ring));
}
.bg-card {
  background-color: hsl(var(--card));
}
.text-card-foreground {
  color: hsl(var(--card-foreground));
}
.bg-popover {
  background-color: hsl(var(--popover));
}
.text-popover-foreground {
  color: hsl(var(--popover-foreground));
}
.bg-primary {
  background-color: hsl(var(--primary));
}
.text-primary-foreground {
  color: hsl(var(--primary-foreground));
}
.bg-secondary {
  background-color: hsl(var(--secondary));
}
.text-secondary-foreground {
  color: hsl(var(--secondary-foreground));
}
.bg-muted {
  background-color: hsl(var(--muted));
}
.text-muted-foreground {
  color: hsl(var(--muted-foreground));
}
.bg-accent {
  background-color: hsl(var(--accent));
}
.text-accent-foreground {
  color: hsl(var(--accent-foreground));
}
.bg-destructive {
  background-color: hsl(var(--destructive));
}
.text-destructive-foreground {
  color: hsl(var(--destructive-foreground));
}

.flex-centered {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  /* min-height: calc(100dvh - var(--nav-h)); */
  width: 100%;
}

/* Reusable hero styles */
h1,
h2,
h3,
h4,
h5,
h6 {
  margin: 0;
  font-size: clamp(4rem, 9vw, 200px);
  position: relative;
  z-index: 10;
  font-weight: 800;
  text-align: center;
  line-height: 1;
  color: hsl(var(--foreground));
  text-shadow: none;
}

h2 {
  font-size: clamp(3rem, 8vw, 200px);
}

h3 {
  font-size: clamp(2.5rem, 7vw, 150px);
}

h4 {
  font-size: clamp(2rem, 6vw, 150px);
}

h5 {
  font-size: clamp(1.75rem, 5vw, 150px);
}
h6 {
  font-size: clamp(1.5rem, 4vw, 150px);
}

p,
label,
body {
  font-family: 'Poppins', sans-serif;
  margin: 0;
  text-align: center;
  font-size: clamp(1rem, 4vw, 24px);
  color: hsl(var(--foreground));
  text-shadow: none;
}

:root[data-theme='dark'] h1,
:root[data-theme='dark'] h2,
:root[data-theme='dark'] h3,
:root[data-theme='dark'] h4,
:root[data-theme='dark'] h5,
:root[data-theme='dark'] h6 {
  text-shadow: var(--tv-glow);
}

:root[data-theme='dark'] p,
:root[data-theme='dark'] label,
:root[data-theme='dark'] body {
  text-shadow: var(--tv-glow);
}

/* Alternating tear overlays: single- then double-band */

/* Full-size route pages */
.page {
  width: 100%;
  height: 100%;
  max-width: 78.75rem;
  margin: 0 auto;
  padding: 1rem;
  position: relative;
  z-index: 10;
}

.link {
  font-weight: 400;
  font-size: clamp(16px, 4vw, 20px);
  color: var(--yellow);
  text-decoration: none;
}

.link:hover {
  text-decoration: underline;
}
.link--active {
  font-weight: 800;
}

/* Theme-aware global link color */
:root[data-theme='light'] .link {
  color: hsl(var(--foreground));
  text-shadow: none;
}
:root[data-theme='dark'] .link {
  color: var(--yellow);
}

/* Route wink (content-only) transition: out then in */
.wink-container {
  width: 100%;
  height: 100%;
}
.wink-container.is-wink-out {
  animation: winkOut 160ms ease-in both;
}
.wink-container.is-wink-in {
  animation: winkIn 220ms ease-out both;
}

@keyframes winkOut {
  0% {
    opacity: 1;
    transform: none;
    filter: none;
  }
  100% {
    opacity: 0;
    transform: scale(0.995);
    filter: blur(0.8px) contrast(1.05);
  }
}

@keyframes winkIn {
  0% {
    opacity: 0;
    transform: scale(0.995);
    filter: blur(0.8px) contrast(1.05);
  }
  100% {
    opacity: 1;
    transform: none;
    filter: none;
  }
}

/* Mobile adjustments */
@media (max-width: 480px) {
  /* Standard mobile content width */
  .page {
    max-width: 20rem;
    padding-left: 0.75rem;
    padding-right: 0.75rem;
  }

  /* Ensure paragraphs don't overflow horizontally */
  .hero-subtitle,
  .page p {
    max-width: 20rem;
    overflow-wrap: anywhere;
    word-break: break-word;
    margin-left: auto;
    margin-right: auto;
    text-align: center;
  }
}

input {
  margin-top: 0.75rem;
  padding: 0.5rem 0.75rem;
  font-size: 1rem;
  border: 1px solid hsl(var(--border));
  border-radius: 0.375rem;
  background-color: hsl(var(--input));
  color: hsl(var(--foreground));
}
input::placeholder {
  color: hsl(var(--muted-foreground));
}
input:focus {
  outline: none;
  border-color: hsl(var(--ring));
  box-shadow: 0 0 0 0.125rem hsl(var(--ring) / 0.3);
}

button {
  margin: 0;
  padding: 0.5rem 1rem;
  font-size: 1rem;
  font-weight: 600;
  border: 1px solid hsl(var(--border));
  border-radius: 0.375rem;
  background-color: hsl(var(--background));
  color: hsl(var(--foreground));
  cursor: pointer;
}

button:hover {
  background-color: hsl(var(--muted));
}

.glitch {
  color: white;
  text-shadow:
    0px -5px 10px rgba(255, 255, 255, 1),
    0px 0px 5px rgba(255, 255, 255, 0),
    0px 0px 10px rgba(255, 255, 255, 0),
    0px 0px 15px rgba(255, 255, 255, 0),
    0px 0px 20px rgba(255, 255, 255, 0);
  animation:
    noise-anim-2 3s infinite linear alternate-reverse,
    shift 2s ease-in-out infinite alternate,
    blur 8s ease-in-out infinite alternate;
  transform: skewX(0deg);
}

.glitch:after {
  content: attr(data-text);
  position: absolute;
  left: 3px;
  text-shadow: -1px 0 red;
  top: 0;
  color: transparent;
  background: transparent;
  overflow: hidden;
  clip: rect(0, 900px, 0, 0);
  animation:
    noise-anim-2 3s infinite linear alternate-reverse,
    shift 2s ease-in-out infinite alternate;
  transform: skewX(0deg);
  z-index: -2;
  opacity: 0.7;
}

.glitch:before {
  content: attr(data-text);
  position: absolute;
  left: 1px;
  text-shadow: -3px 0 cyan;
  top: 0;
  color: transparent;
  background: transparent;
  overflow: hidden;
  clip: rect(0, 900px, 0, 0);
  animation:
    noise-anim-2 3s infinite linear alternate-reverse,
    shift 2s ease-in-out infinite alternate;
  transform: skewX(0deg);
  z-index: -1;
  opacity: 0.8;
}

@keyframes blur {
  0%,
  40%,
  50%,
  60%,
  90%,
  95%,
  100% {
    text-shadow:
      0px -5px 10px rgba(255, 255, 255, 1),
      0px 0px 5px rgba(255, 255, 255, 0),
      0px 0px 10px rgba(255, 255, 255, 0),
      2px 1px 15px rgba(100, 240, 255, 0),
      0px 0px 20px rgba(255, 255, 255, 0);
  }
  45%,
  75% {
    text-shadow:
      0px -5px 10px rgba(255, 255, 255, 1),
      0px 0px 5px rgba(255, 255, 255, 1),
      0px 0px 10px rgba(255, 255, 255, 1),
      2px 1px 15px rgba(100, 240, 255, 1),
      0px 0px 20px rgba(255, 255, 255, 1);
  }
  97.5% {
    text-shadow:
      0px -5px 10px rgba(255, 255, 255, 0),
      0px 0px 5px rgba(255, 255, 255, 0),
      0px 0px 10px rgba(255, 255, 255, 0),
      2px 1px 4px rgba(255, 100, 100, 1),
      0px 0px 20px rgba(255, 255, 255, 0);
  }
}

@keyframes noise-anim-2 {
  0% {
    clip: rect(42px, 9999px, 44px, 0);
  }
  5% {
    clip: rect(12px, 9999px, 59px, 0);
  }
  10% {
    clip: rect(48px, 9999px, 29px, 0);
  }
  15% {
    clip: rect(42px, 9999px, 73px, 0);
  }
  20% {
    clip: rect(63px, 9999px, 27px, 0);
  }
  25% {
    clip: rect(34px, 9999px, 55px, 0);
  }
  30% {
    clip: rect(86px, 9999px, 73px, 0);
  }
  35% {
    clip: rect(20px, 9999px, 20px, 0);
  }
  40% {
    clip: rect(26px, 9999px, 60px, 0);
  }
  45% {
    clip: rect(25px, 9999px, 85px, 0);
  }
  50% {
    clip: rect(57px, 9999px, 52px, 0);
  }
  55% {
    clip: rect(69px, 9999px, 66px, 0);
  }
  60% {
    clip: rect(55px, 9999px, 32px, 0);
  }
  65% {
    clip: rect(61px, 9999px, 51px, 0);
  }
  70% {
    clip: rect(37px, 9999px, 87px, 0);
  }
  75% {
    clip: rect(82px, 9999px, 81px, 0);
  }
  80% {
    clip: rect(54px, 9999px, 46px, 0);
  }
  85% {
    clip: rect(55px, 9999px, 35px, 0);
  }
  90% {
    clip: rect(87px, 9999px, 82px, 0);
  }
  95% {
    clip: rect(49px, 9999px, 73px, 0);
  }
  100% {
    clip: rect(20px, 9999px, 20px, 0);
  }
}

@keyframes shift {
  0%,
  40%,
  44%,
  58%,
  61%,
  65%,
  69%,
  73%,
  100% {
    transform: skewX(0deg);
  }
  41% {
    transform: skewX(10deg);
  }
  42% {
    transform: skewX(-10deg);
  }
  59% {
    transform: skewX(40deg) skewY(10deg);
  }
  60% {
    transform: skewX(-40deg) skewY(-10deg);
  }
  63% {
    transform: skewX(10deg) skewY(-5deg);
  }
  70% {
    transform: skewX(-50deg) skewY(-20deg);
  }
  71% {
    transform: skewX(10deg) skewY(-10deg);
  }
}

/* Responsive adjustments */
@media (max-width: 768px) {
  .glitch {
    font-size: 3.75rem;
  }
}

@media (max-width: 480px) {
  .glitch {
    font-size: 2.5rem;
  }
}

.passwordless-form {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100%;
  min-height: 100dvh;
  z-index: 10;
}

/* Theme-friendly error message utility */
.error-message {
  color: hsl(var(--destructive));
  text-shadow: none;
}
